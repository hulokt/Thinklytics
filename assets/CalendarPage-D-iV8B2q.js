import{j as e,aB as t,_ as a,C as r,ak as n,W as s,y as i,O as l}from"./ui-libs-WBeOxq-T.js";import{r as d}from"./react-vendor-Bmnvhqav.js";import{u as o,e as c,a as u,h as m,i as x}from"./index-BcWjTYQS.js";import"./supabase-BjlvUUcM.js";import"./pdf-utils-BVOYDPbl.js";import"./data-libs-DQyM0wFE.js";d.createContext(void 0);const g=({onStartQuiz:g})=>{const[p,b]=d.useState(new Date),[f,h]=d.useState(!1),[y,w]=d.useState(!1),[v,j]=d.useState(""),[k,N]=d.useState("success"),[z,_]=d.useState(""),{isDarkMode:q}=o(),{data:S,upsertData:$}=c(),{quizManager:D,completedQuizzes:I,inProgressQuizzes:A,allQuizzesLoading:C}=u(),[E,Q]=d.useState(0),M=()=>{const e=new Date;return`${e.getFullYear()}-${String(e.getMonth()+1).padStart(2,"0")}-${String(e.getDate()).padStart(2,"0")}`},T=e=>{if("string"==typeof e)return e;return`${e.getFullYear()}-${String(e.getMonth()+1).padStart(2,"0")}-${String(e.getDate()).padStart(2,"0")}`},P=M();d.useEffect(()=>{const e=(e=>{if(!S||!Array.isArray(S))return"";const t=S.find(t=>"notes"===t.type&&t.date===e);return t?t.content:""})(T(p));_(e)},[p,S]);const U=e=>{const t=new Map,a=(e,a)=>{const r=e.quizId?`quiz-${e.quizId}`:`event-${e.id}`;(!t.has(r)||a>t.get(r).priority)&&t.set(r,{...e,priority:a})};if(Array.isArray(S)){S.filter(t=>t.date===e).forEach(e=>{a(e,1)})}if(A&&Array.isArray(A)){A.filter(t=>{const a=t.date||t.lastUpdated;if(!a)return!1;return T(new Date(a))===e}).forEach(t=>{const r={id:`inprogress-${t.id}`,title:`Quiz #${t.quizNumber||"Unknown"}`,date:e,type:"quiz",status:"in-progress",quizId:t.id,questions:t.questions||[],metadata:t};a(r,2)})}if(I&&Array.isArray(I)){I.filter(t=>{const a=t.date||t.lastUpdated;if(!a)return!1;return T(new Date(a))===e}).forEach(t=>{const r={id:`completed-${t.id}`,title:`Quiz #${t.quizNumber||"Unknown"}`,date:e,type:"quiz",status:"completed",quizId:t.id,score:t.score,timeSpent:t.timeSpent,questions:t.questions||[],metadata:t};a(r,3)})}return Array.from(t.values()).sort((e,t)=>t.priority-e.priority).map(({priority:e,...t})=>t).filter(e=>"notes"!==e.type)},Y=U(T(p));d.useEffect(()=>{Q(e=>e+1)},[S,A,I]),d.useEffect(()=>{},[S,I,A,p,Y]),d.useEffect(()=>{Array.isArray(S)&&(S.length,S.map(e=>({id:e.id,status:e.status,date:e.date})))},[S]);const F=async e=>{if(e){if("planned"===e.status){const t=(S||[]).map(t=>t.id===e.id?{...t,status:"in-progress"}:t);e.id,t.length,t.map(e=>({id:e.id,status:e.status,date:e.date})),X(t)}g&&g(e)}},L=async e=>{try{const t=String(e.id||"");if(t.startsWith("completed-")||t.startsWith("inprogress-")){if(!D||!e.quizId)throw new Error("QuizManager or quizId not available for QuizManager event");if(!(await D.deleteQuiz(e.quizId)))throw new Error("Failed to delete from QuizManager");const t=(S||[]).filter(t=>t.quizId!==e.quizId);t.length!==(S||[]).length&&await X(t),j("Quiz deleted successfully")}else if("custom"===e.type){const t=(S||[]).filter(t=>t.id!==e.id);await X(t),j("Event deleted successfully")}else{D&&e.quizId&&await D.deleteQuiz(e.quizId);const t=(S||[]).filter(t=>t.id!==e.id);await X(t),j("Quiz deleted successfully")}N("success"),w(!0),setTimeout(()=>w(!1),3e3)}catch(t){j(`Failed to delete: ${t.message}`),N("error"),w(!0),setTimeout(()=>w(!1),5e3)}},{addUndoAction:O}=m(),W=e=>{if(e.metadata&&"number"==typeof e.metadata.quizNumber)return e.metadata.quizNumber;if("number"==typeof e.quizNumber)return e.quizNumber;const t="string"==typeof e.title?e.title.match(/#(\d+)/):null;return t?parseInt(t[1],10):0},B={quizzes:Y.filter(e=>"quiz"===e.type||"planned"===e.type).sort((e,t)=>W(e)-W(t)),custom:Y.filter(e=>"custom"===e.type)},H=t=>{if("quiz"===t.type||"planned"===t.type)switch(t.status){case"completed":return e.jsx(i,{className:"w-4 h-4 text-green-500"});case"in-progress":return e.jsx(l,{className:"w-4 h-4 text-yellow-500"});default:return e.jsx(n,{className:"w-4 h-4 text-blue-500"})}return e.jsx(r,{className:"w-4 h-4 text-purple-500"})},J=e=>{if("quiz"===e.type||"planned"===e.type)switch(e.status){case"completed":return"bg-green-100 text-green-800 border-green-200 dark:bg-green-900/20 dark:text-green-400 dark:border-green-800";case"in-progress":return"bg-yellow-100 text-yellow-800 border-yellow-200 dark:bg-yellow-900/20 dark:text-yellow-400 dark:border-yellow-800";default:return"bg-blue-100 text-blue-800 border-blue-200 dark:bg-blue-900/20 dark:text-blue-400 dark:border-blue-800"}return"bg-purple-100 text-purple-800 border-purple-200 dark:bg-purple-900/20 dark:text-purple-400 dark:border-purple-800"},R=e=>{if("quiz"===e.type||"planned"===e.type)switch(e.status){case"completed":return"Completed";case"in-progress":return"In Progress";default:return"Planned"}return"Custom Event"};d.useEffect(()=>{if(!S||!D||C)return;S.length;const e=Array.isArray(S)?S:[],t=D.getAllQuizzes()||[],a=e.map(e=>{if(("planned"===e.type||"quiz"===e.type)&&!e.quizId){const a=t.find(t=>t.id==e.id||t.metadata&&t.metadata.calendarEventId===e.id);if(a)return{...e,quizId:a.id}}return e}),r=new Set(t.map(e=>"string"==typeof e.id?parseInt(e.id,10):e.id)),n=a.filter(e=>"custom"===e.type||"notes"===e.type||("planned"===e.status||"in-progress"===e.status||"planned"===e.type||("completed"===e.status?!!e.quizId:!!("quiz"!==e.type&&"planned"!==e.type||e.quizId))));if(n.length!==e.length){e.filter(e=>!n.find(t=>t.id===e.id)).map(e=>({id:e.id,status:e.status,date:e.date,type:e.type,quizId:e.quizId,title:e.title})),t.map(e=>({id:e.id,status:e.status,date:e.date})),Array.from(r)}JSON.stringify(n)!==JSON.stringify(S)&&(S.length,n.length,n.map(e=>({id:e.id,status:e.status,date:e.date})),X(n))},[S,D,C]);const X=async e=>{await $(e)};return e.jsxs("div",{className:"h-full overflow-hidden flex flex-col transition-colors duration-300 relative",children:[e.jsxs("div",{className:"absolute inset-0 pointer-events-none",children:[e.jsx("div",{className:"absolute inset-0 "+(q?"bg-gradient-to-br from-blue-950/20 via-indigo-950/10 to-purple-950/20":"bg-gradient-to-br from-blue-100/60 via-indigo-100/40 to-purple-100/60")}),e.jsx("div",{className:"absolute top-1/4 left-1/4 w-96 h-96 rounded-full blur-3xl animate-pulse "+(q?"bg-gradient-to-r from-blue-500/20 to-cyan-500/20":"bg-gradient-to-r from-blue-500/15 to-cyan-500/15")}),e.jsx("div",{className:"absolute bottom-1/4 right-1/4 w-80 h-80 rounded-full blur-3xl animate-pulse delay-1000 "+(q?"bg-gradient-to-r from-indigo-500/20 to-purple-500/20":"bg-gradient-to-r from-indigo-500/15 to-purple-500/15")}),e.jsx("div",{className:"absolute top-1/3 right-1/3 w-64 h-64 rounded-full blur-3xl animate-pulse delay-500 "+(q?"bg-gradient-to-r from-purple-500/15 to-pink-500/15":"bg-gradient-to-r from-purple-500/12 to-pink-500/12")}),e.jsx("div",{className:"absolute bottom-1/3 left-1/4 w-48 h-48 rounded-full blur-3xl animate-pulse delay-1500 "+(q?"bg-gradient-to-r from-cyan-500/15 to-blue-500/15":"bg-gradient-to-r from-cyan-500/12 to-blue-500/12")}),e.jsx("div",{className:`absolute top-20 left-10 w-32 h-32 border-2 rounded-2xl rotate-12 animate-float ${q?"border-blue-400/30 bg-transparent":"border-blue-400/25 bg-white/10"} backdrop-blur-sm`}),e.jsx("div",{className:"absolute top-40 right-20 w-24 h-24 rounded-full animate-float-delayed "+(q?"bg-gradient-to-br from-blue-500/20 to-indigo-500/20":"bg-gradient-to-br from-blue-500/15 to-indigo-500/15")}),e.jsx("div",{className:`absolute bottom-32 left-20 w-20 h-20 border-2 rounded-lg rotate-45 animate-float-slow ${q?"border-purple-400/30 bg-transparent":"border-purple-400/25 bg-white/10"} backdrop-blur-sm`}),e.jsx("div",{className:"absolute top-1/3 left-16 w-24 h-32 rounded-tl-3xl rounded-br-3xl animate-float delay-800 "+(q?"bg-gradient-to-r from-blue-400/20 to-cyan-400/20":"bg-gradient-to-r from-blue-400/15 to-cyan-400/15")}),e.jsx("div",{className:"absolute bottom-1/3 right-16 w-32 h-24 rounded-tr-3xl rounded-bl-3xl animate-float-delayed "+(q?"bg-gradient-to-r from-purple-400/20 to-indigo-400/20":"bg-gradient-to-r from-purple-400/15 to-indigo-400/15")}),e.jsx("div",{className:"absolute top-1/3 right-1/6 w-8 h-8 transform rotate-45 animate-float delay-900 "+(q?"bg-amber-400/25":"bg-amber-400/20"),style:{clipPath:"polygon(50% 0%, 61% 35%, 98% 35%, 68% 57%, 79% 91%, 50% 70%, 21% 91%, 32% 57%, 2% 35%, 39% 35%)"}}),e.jsx("div",{className:"absolute bottom-2/5 left-1/8 w-6 h-6 transform -rotate-15 animate-float-slow delay-1100 "+(q?"bg-lime-400/25":"bg-lime-400/20"),style:{clipPath:"polygon(50% 0%, 61% 35%, 98% 35%, 68% 57%, 79% 91%, 50% 70%, 21% 91%, 32% 57%, 2% 35%, 39% 35%)"}}),e.jsx("div",{className:"absolute top-1/4 right-1/4 w-8 h-8 transform rotate-45 animate-float delay-1000 "+(q?"bg-cyan-400/20":"bg-cyan-400/15"),style:{clipPath:"polygon(50% 0%, 0% 100%, 100% 100%)"}}),e.jsx("div",{className:"absolute bottom-1/4 left-1/3 w-12 h-12 transform -rotate-30 animate-float-delayed "+(q?"bg-rose-400/20":"bg-rose-400/15"),style:{clipPath:"polygon(50% 0%, 0% 100%, 100% 100%)"}}),e.jsx("div",{className:"absolute top-1/5 right-1/4 w-2 h-2 rounded-full animate-ping delay-500 "+(q?"bg-white/60":"bg-blue-300/70")}),e.jsx("div",{className:"absolute bottom-1/5 left-1/4 w-1 h-1 rounded-full animate-ping delay-1200 "+(q?"bg-yellow-300/80":"bg-yellow-300/70")}),e.jsx("div",{className:"absolute top-2/5 left-3/4 w-1.5 h-1.5 rounded-full animate-ping delay-800 "+(q?"bg-cyan-300/70":"bg-cyan-300/60")}),e.jsx("div",{className:"absolute bottom-2/5 right-3/4 w-2.5 h-2.5 rounded-full animate-ping delay-1800 "+(q?"bg-pink-300/60":"bg-pink-300/50")}),e.jsx("div",{className:"absolute inset-0",children:[...Array(15)].map((t,a)=>{const r=100*Math.random(),n=100*Math.random(),s=3*Math.random(),i=2+2*Math.random(),l=3*Math.random()+1;return e.jsx("div",{className:"absolute rounded-full animate-ping "+(q?"bg-blue-500/40":"bg-blue-500/30"),style:{left:`${r}%`,top:`${n}%`,width:`${l}px`,height:`${l}px`,animationDelay:`${s}s`,animationDuration:`${i}s`}},`particle-${a}`)})}),e.jsx("div",{className:"absolute inset-0 opacity-[0.03] dark:opacity-[0.05]",children:e.jsx("div",{className:"absolute inset-0",style:{backgroundImage:"radial-gradient(circle at 25% 25%, #3b82f6 1px, transparent 1px), \n                             radial-gradient(circle at 75% 75%, #6366f1 1px, transparent 1px)",backgroundSize:"60px 60px",backgroundPosition:"0 0, 30px 30px"}})}),e.jsx("div",{className:"absolute top-1/4 left-0 w-32 h-px bg-gradient-to-r from-transparent via-blue-400/30 to-transparent transform rotate-45 animate-pulse delay-1000"}),e.jsx("div",{className:"absolute bottom-1/3 right-0 w-40 h-px bg-gradient-to-r from-transparent via-purple-400/30 to-transparent transform -rotate-45 animate-pulse delay-2000"}),e.jsx("div",{className:"absolute top-2/3 left-0 w-24 h-px bg-gradient-to-r from-transparent via-cyan-400/30 to-transparent transform rotate-12 animate-pulse delay-500"}),e.jsx("div",{className:"absolute top-0 left-0 w-20 h-20 border-l-2 border-t-2 rounded-tl-3xl "+(q?"border-blue-400/20":"border-blue-400/15")}),e.jsx("div",{className:"absolute top-0 right-0 w-20 h-20 border-r-2 border-t-2 rounded-tr-3xl "+(q?"border-purple-400/20":"border-purple-400/15")}),e.jsx("div",{className:"absolute bottom-0 left-0 w-20 h-20 border-l-2 border-b-2 rounded-bl-3xl "+(q?"border-cyan-400/20":"border-cyan-400/15")}),e.jsx("div",{className:"absolute bottom-0 right-0 w-20 h-20 border-r-2 border-b-2 rounded-br-3xl "+(q?"border-indigo-400/20":"border-indigo-400/15")})]}),e.jsx("div",{className:"bg-white/80 dark:bg-gray-900/80 backdrop-blur-md border-b border-gray-200/50 dark:border-gray-700/50 px-3 sm:px-6 py-4 flex-shrink-0 relative overflow-hidden shadow-lg transition-colors duration-300 z-10",children:e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3 sm:gap-0",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 bg-gradient-to-br from-[#22adff] to-[#3ab6ff] rounded-xl flex items-center justify-center shadow-lg",children:e.jsx(t,{className:"w-4 h-4 sm:w-5 sm:h-5 text-white"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-xl sm:text-2xl font-bold text-gray-900 dark:text-white",children:"Calendar & Schedule"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-xs sm:text-sm mt-1 transition-colors duration-300",children:"Manage your study sessions and track your progress"})]})]}),e.jsxs("div",{className:"flex flex-wrap items-center gap-x-4 gap-y-2 text-xs sm:text-sm",children:[e.jsxs("div",{className:"flex items-center space-x-1 text-gray-600 dark:text-gray-400",children:[e.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),e.jsx("span",{children:"Completed"})]}),e.jsxs("div",{className:"flex items-center space-x-1 text-gray-600 dark:text-gray-400",children:[e.jsx("div",{className:"w-2 h-2 bg-yellow-500 rounded-full"}),e.jsx("span",{children:"In Progress"})]}),e.jsxs("div",{className:"flex items-center space-x-1 text-gray-600 dark:text-gray-400",children:[e.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full"}),e.jsx("span",{children:"Planned"})]}),e.jsxs("div",{className:"flex items-center space-x-1 text-gray-600 dark:text-gray-400",children:[e.jsx("div",{className:"w-2 h-2 bg-purple-500 rounded-full"}),e.jsx("span",{children:"Custom"})]})]})]})}),e.jsx("div",{className:"flex-1 overflow-hidden relative z-10",children:e.jsxs("div",{className:"h-full flex flex-col lg:flex-row pb-20 sm:pb-6 overflow-y-auto calendar-main-content",children:[e.jsx("div",{className:"lg:w-2/3 p-3 sm:p-6 flex flex-col relative z-10",children:e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-lg border border-gray-200 dark:border-gray-700 p-3 sm:p-6 flex-1 flex flex-col min-h-0",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between mb-4 sm:mb-6 gap-2",children:[e.jsxs("h2",{className:"text-lg sm:text-xl font-semibold text-gray-900 dark:text-white flex items-center space-x-2",children:[e.jsx(t,{className:"w-5 h-5 text-blue-500"}),e.jsx("span",{children:"Calendar"})]}),e.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:p.toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})})]}),e.jsx("div",{className:"flex-1 flex items-center justify-center min-h-0 overflow-y-auto",children:e.jsx(x,{onChange:e=>{b(e)},value:p,tileClassName:({date:e,view:t})=>{if("month"!==t)return"";const a=T(e),r=p?T(p):null;let n="";return r&&a===r?n+="react-calendar__tile--active":a===P&&(n+="react-calendar__tile--now"),n},tileContent:({date:t,view:a})=>{if("month"!==a)return null;const r=T(t),n=U(r);if(0===n.length)return null;const s={completed:0,"in-progress":0,planned:0,custom:0};n.forEach(e=>{"custom"===e.type?s.custom++:"completed"===e.status?s.completed++:"in-progress"===e.status?s["in-progress"]++:s.planned++});const i=[];for(let e=0;e<s.completed;e++)i.push({status:"completed",key:`completed-${e}`});for(let e=0;e<s["in-progress"];e++)i.push({status:"in-progress",key:`in-progress-${e}`});for(let e=0;e<s.planned;e++)i.push({status:"planned",key:`planned-${e}`});for(let e=0;e<s.custom;e++)i.push({status:"custom",key:`custom-${e}`});const l=i.slice(0,8);return e.jsxs("div",{className:"activity-dots-container",children:[l.map(t=>e.jsx("div",{className:`activity-dot ${t.status}`,title:`${t.status.charAt(0).toUpperCase()+t.status.slice(1)} activity`},t.key)),i.length>8&&e.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400 font-medium",title:i.length-8+" more activities",children:["+",i.length-8]})]})},className:"modern-calendar"},E)})]})}),e.jsx("div",{className:"lg:w-1/3 p-3 sm:p-6 flex flex-col relative z-10",children:e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-lg border border-gray-200 dark:border-gray-700 p-3 sm:p-6 flex-1 overflow-hidden flex flex-col min-h-0",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4 sm:mb-6 flex-shrink-0",children:[e.jsxs("h2",{className:"text-lg sm:text-xl font-semibold text-gray-900 dark:text-white flex items-center space-x-2",children:[e.jsx(a,{className:"w-5 h-5 text-purple-500"}),e.jsx("span",{children:"Activities"})]}),e.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:[Y.length," events"]})]}),e.jsxs("div",{className:"flex-1 flex flex-col min-h-0",children:[e.jsxs("div",{className:"bg-gradient-to-r from-gray-50 to-gray-100 dark:from-gray-700/50 dark:to-gray-600/50 rounded-xl p-3 sm:p-4 border border-gray-200 dark:border-gray-600 flex-shrink-0",children:[e.jsx("div",{className:"flex items-center justify-between mb-3",children:e.jsxs("h3",{className:"text-sm font-semibold text-gray-700 dark:text-gray-300 flex items-center space-x-2",children:[e.jsx("svg",{className:"w-4 h-4 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})}),e.jsx("span",{children:"Daily Notes"})]})}),e.jsx("div",{className:"h-[8rem] sm:h-[12rem]",children:e.jsx("textarea",{value:z,onChange:e=>{_(e.target.value),clearTimeout(window.notesSaveTimeout),window.notesSaveTimeout=setTimeout(()=>{(async(e,t)=>{try{const a=S||[],r=a.findIndex(t=>"notes"===t.type&&t.date===e);let n;if(r>=0)n=[...a],n[r]={...n[r],content:t,lastUpdated:(new Date).toISOString()};else{const r={id:Date.now(),type:"notes",date:e,content:t,title:"Daily Notes",status:"notes",createdAt:(new Date).toISOString(),lastUpdated:(new Date).toISOString()};n=[...a,r]}await X(n)}catch(a){j("Failed to save notes"),N("error"),w(!0),setTimeout(()=>w(!1),5e3)}})(T(p),e.target.value)},1e3)},placeholder:"Write your notes for today...",className:"w-full h-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500 focus:border-gray-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white text-base sm:text-sm resize-none overflow-y-auto transition-colors duration-300"})})]}),e.jsxs("div",{className:"flex-1 flex flex-col min-h-0",children:[Y.length>0&&e.jsxs("div",{className:"space-y-3 sm:space-y-4 mb-4 flex-shrink-0",children:[B.quizzes.length>0&&e.jsxs("h3",{className:"text-sm font-semibold text-gray-700 dark:text-gray-300 uppercase tracking-wide mt-4",children:["Quizzes (",B.quizzes.length,")"]}),B.custom.length>0&&e.jsxs("h3",{className:"text-sm font-semibold text-gray-700 dark:text-gray-300 uppercase tracking-wide",children:["Custom Events (",B.custom.length,")"]})]}),e.jsx("div",{className:"flex-1 overflow-y-auto min-h-0 pr-2",children:e.jsx("div",{className:"space-y-3 sm:space-y-4",children:0===Y.length?e.jsxs("div",{className:"text-center py-6 sm:py-8",children:[e.jsx("div",{className:"w-12 h-12 sm:w-16 sm:h-16 bg-gradient-to-br from-gray-100 to-gray-200 dark:from-gray-700 dark:to-gray-600 rounded-2xl flex items-center justify-center mx-auto mb-3 sm:mb-4",children:e.jsx(r,{className:"w-6 h-6 sm:w-8 sm:h-8 text-gray-400"})}),e.jsx("h3",{className:"text-base sm:text-lg font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"No activities scheduled"}),e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Select a different date or add new activities"}),e.jsxs("div",{className:"mt-4 text-xs text-gray-400 space-y-1",children:[e.jsxs("div",{children:["Debug: ",T(p)]}),e.jsxs("div",{children:["Total Events: ",S?.length||0]}),e.jsxs("div",{children:["Completed Quizzes: ",I?.length||0]}),e.jsxs("div",{children:["In Progress Quizzes: ",A?.length||0]}),e.jsxs("div",{children:["Selected Date Events: ",Y.length]})]})]}):e.jsxs(e.Fragment,{children:[B.quizzes.length>0&&e.jsx("div",{className:"space-y-3",children:e.jsx("div",{className:"space-y-3",children:B.quizzes.map((t,a)=>e.jsx("div",{className:"group relative bg-gradient-to-r from-gray-50 to-gray-100 dark:from-gray-700/50 dark:to-gray-600/50 rounded-xl p-3 sm:p-4 border border-gray-200 dark:border-gray-600 transition-all duration-200",children:e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3",children:[e.jsxs("div",{className:"flex items-center space-x-3 flex-1 min-w-0",children:[H(t),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h4",{className:"text-sm font-semibold text-gray-900 dark:text-white truncate",children:t.title}),e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-1 sm:gap-2 mt-1",children:[e.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium border ${J(t)}`,children:R(t)}),t.metadata&&t.metadata.questions&&e.jsxs("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:[t.metadata.questions.length," questions"]}),!t.metadata&&t.questions&&e.jsxs("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:[t.questions.length," questions"]}),void 0!==t.score&&e.jsxs("span",{className:"text-xs text-green-600 dark:text-green-400 font-medium",children:[t.score,"% score"]})]})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[("planned"===t.status||"planned"===t.type)&&e.jsx("button",{onClick:()=>F(t),disabled:(()=>{const e=t.plannedDate||t.metadata?.plannedDate||t.date;if(e){const t=M();let a;return a=e.includes("T")?T(new Date(e)):e.includes("-")&&10===e.length?e:T(new Date(e)),t!==a}return!1})(),className:`p-2 rounded-lg transition-colors duration-200 ${(()=>{const e=t.plannedDate||t.metadata?.plannedDate||t.date;if(e){const t=M();let a;if(a=e.includes("T")?T(new Date(e)):e.includes("-")&&10===e.length?e:T(new Date(e)),t!==a)return"bg-gray-400 cursor-not-allowed text-white"}return"bg-blue-500 hover:bg-blue-600 text-white"})()}`,title:(()=>{const e=t.plannedDate||t.metadata?.plannedDate||t.date;if(e){const t=M();let a;if(a=e.includes("T")?T(new Date(e)):e.includes("-")&&10===e.length?e:T(new Date(e)),t!==a)return`This quiz is planned for ${new Date(a).toLocaleDateString()}. You can only start it on that date.`}return"Start this quiz"})(),children:e.jsx(n,{className:"w-4 h-4"})}),("in-progress"===t.status||"in-progress"===t.type)&&e.jsx("button",{onClick:()=>F(t),className:"p-2 bg-yellow-500 hover:bg-yellow-600 text-white rounded-lg transition-colors duration-200",title:"Resume this quiz",children:e.jsx(n,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>L(t),className:"p-2 bg-red-500 hover:bg-red-600 text-white rounded-lg transition-colors duration-200",title:"Delete this quiz",children:e.jsx(s,{className:"w-4 h-4"})})]})]})},`${t.id}-${t.status}-${a}`))})}),B.custom.length>0&&e.jsx("div",{className:"space-y-3",children:e.jsx("div",{className:"space-y-3",children:B.custom.map((t,a)=>e.jsx("div",{className:"group relative bg-gradient-to-r from-purple-50 to-purple-100 dark:from-purple-900/20 dark:to-purple-800/20 rounded-xl p-4 border border-purple-200 dark:border-purple-700 transition-all duration-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3 flex-1 min-w-0",children:[H(t),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h4",{className:"text-sm font-semibold text-gray-900 dark:text-white truncate",children:t.title}),e.jsx("div",{className:"flex items-center space-x-2 mt-1",children:e.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium border ${J(t)}`,children:R(t)})})]})]}),e.jsx("button",{onClick:()=>L(t),className:"p-2 bg-red-500 hover:bg-red-600 text-white rounded-lg transition-colors duration-200",title:"Delete",children:e.jsx(s,{className:"w-4 h-4"})})]})},`${t.id}-${a}`))})})]})})})]})]})]})})]})}),y&&e.jsx("div",{className:"fixed bottom-4 right-4 z-50 p-4 rounded-lg shadow-lg transition-all duration-300 "+("success"===k?"bg-green-500 text-white":"bg-red-500 text-white"),children:e.jsxs("div",{className:"flex items-center space-x-2",children:["success"===k?e.jsx(i,{className:"w-5 h-5"}):e.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}),e.jsx("span",{className:"font-medium",children:v})]})}),e.jsx("style",{children:"\n  .react-calendar {\n    width: 100%;\n    height: 100%;\n    min-height: 500px;\n    background: white;\n    border: 1px solid #e5e7eb;\n    border-radius: 16px;\n    font-family: 'Inter', system-ui, sans-serif;\n    box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);\n    overflow: hidden;\n  }\n\n  .dark .react-calendar {\n    background: #1f2937;\n    border-color: #374151;\n    color: #f9fafb;\n  }\n\n  .react-calendar__navigation {\n    background: linear-gradient(135deg, #22adff 0%, #3ab6ff 100%);\n    padding: 16px;\n    display: flex;\n    align-items: center;\n    justify-content: space-between;\n  }\n\n  .react-calendar__navigation button {\n    background: none;\n    border: none;\n    color: white;\n    font-size: 18px;\n    font-weight: 600;\n    padding: 10px 14px;\n    border-radius: 8px;\n    cursor: pointer;\n    transition: all 0.2s ease;\n  }\n\n  .react-calendar__navigation button:hover {\n    background: rgba(255, 255, 255, 0.15) !important;\n    transform: translateY(-1px);\n  }\n\n  .dark .react-calendar__navigation button:hover {\n    background: rgba(255, 255, 255, 0.15) !important;\n    transform: translateY(-1px);\n  }\n\n  .react-calendar__navigation button:disabled {\n    opacity: 0.5;\n    cursor: not-allowed;\n  }\n\n  .react-calendar__month-view__weekdays {\n    background: #f8fafc;\n    padding: 12px 0;\n    font-weight: 600;\n    font-size: 14px;\n    text-transform: uppercase;\n    letter-spacing: 0.5px;\n    color: #64748b;\n  }\n\n  .dark .react-calendar__month-view__weekdays {\n    background: #374151;\n    color: #9ca3af;\n  }\n\n  .react-calendar__month-view__weekdays__weekday {\n    padding: 12px;\n    text-align: center;\n  }\n\n  .react-calendar__month-view__days {\n    padding: 12px;\n    flex: 1;\n  }\n\n  .react-calendar__tile {\n    background: none;\n    border: none;\n    padding: 16px 12px;\n    border-radius: 8px;\n    cursor: pointer;\n    transition: all 0.2s ease;\n    position: relative;\n    font-weight: 500;\n    color: #374151;\n    font-size: 16px;\n    min-height: 60px;\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    justify-content: center;\n  }\n\n  .dark .react-calendar__tile {\n    color: #f9fafb;\n  }\n\n  .react-calendar__tile:hover {\n    background: #f1f5f9;\n    transform: translateY(-1px);\n  }\n\n  .dark .react-calendar__tile:hover {\n    background: #374151;\n  }\n\n  .react-calendar__tile:disabled {\n    color: #cbd5e1;\n    cursor: not-allowed;\n    background: none;\n  }\n\n  .dark .react-calendar__tile:disabled {\n    color: #6b7280;\n  }\n\n  .react-calendar__tile--now {\n    background: linear-gradient(135deg, #22adff, #3ab6ff);\n    color: white;\n    font-weight: 600;\n  }\n\n  .react-calendar__tile--now:hover {\n    background: linear-gradient(135deg, #1e9be8, #32a5e6) !important;\n    color: white !important;\n    transform: translateY(-1px);\n  }\n\n  .dark .react-calendar__tile--now {\n    background: linear-gradient(135deg, #22adff, #3ab6ff);\n    color: white;\n  }\n\n  .dark .react-calendar__tile--now:hover {\n    background: linear-gradient(135deg, #1e9be8, #32a5e6) !important;\n    color: white !important;\n    transform: translateY(-1px);\n  }\n\n  .react-calendar__tile--active {\n    background: linear-gradient(135deg, rgba(34, 173, 255, 0.2), rgba(58, 182, 255, 0.3)) !important;\n    color: #22adff !important;\n    font-weight: 600;\n    box-shadow: 0 4px 12px rgba(34, 173, 255, 0.2);\n  }\n\n  .dark .react-calendar__tile--active {\n    background: linear-gradient(135deg, rgba(34, 173, 255, 0.3), rgba(58, 182, 255, 0.4)) !important;\n    color: #3ab6ff !important;\n  }\n\n  .react-calendar__tile--hasEvents {\n    position: relative;\n  }\n\n  .react-calendar__tile--hasEvents::after {\n    content: '';\n    position: absolute;\n    bottom: 8px;\n    left: 50%;\n    transform: translateX(-50%);\n    width: 6px;\n    height: 6px;\n    background: #10b981;\n    border-radius: 50%;\n  }\n\n  .dark .react-calendar__tile--hasEvents::after {\n    background: #34d399;\n  }\n\n  /* Activity dots styles */\n  .activity-dots-container {\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    gap: 2px;\n    margin-top: 4px;\n    flex-wrap: wrap;\n    max-width: 100%;\n  }\n\n  .activity-dot {\n    width: 6px;\n    height: 6px;\n    border-radius: 50%;\n    flex-shrink: 0;\n    transition: all 0.2s ease;\n    box-shadow: 0 1px 2px rgba(0, 0, 0, 0.1);\n  }\n\n  .activity-dot:hover {\n    transform: scale(1.2);\n  }\n\n  .activity-dot.completed {\n    background: linear-gradient(135deg, #10b981, #059669);\n    box-shadow: 0 1px 3px rgba(16, 185, 129, 0.3);\n  }\n\n  .activity-dot.in-progress {\n    background: linear-gradient(135deg, #f59e0b, #d97706);\n    box-shadow: 0 1px 3px rgba(245, 158, 11, 0.3);\n  }\n\n  .activity-dot.planned {\n    background: linear-gradient(135deg, #3b82f6, #2563eb);\n    box-shadow: 0 1px 3px rgba(59, 130, 246, 0.3);\n  }\n\n  .activity-dot.custom {\n    background: linear-gradient(135deg, #8b5cf6, #7c3aed);\n    box-shadow: 0 1px 3px rgba(139, 92, 246, 0.3);\n  }\n\n  /* Dark mode adjustments for dots */\n  .dark .activity-dot.completed {\n    background: linear-gradient(135deg, #34d399, #10b981);\n    box-shadow: 0 1px 3px rgba(52, 211, 153, 0.4);\n  }\n\n  .dark .activity-dot.in-progress {\n    background: linear-gradient(135deg, #fbbf24, #f59e0b);\n    box-shadow: 0 1px 3px rgba(251, 191, 36, 0.4);\n  }\n\n  .dark .activity-dot.planned {\n    background: linear-gradient(135deg, #60a5fa, #3b82f6);\n    box-shadow: 0 1px 3px rgba(96, 165, 250, 0.4);\n  }\n\n  .dark .activity-dot.custom {\n    background: linear-gradient(135deg, #a78bfa, #8b5cf6);\n    box-shadow: 0 1px 3px rgba(167, 139, 250, 0.4);\n  }\n"}),e.jsx("style",{children:"\n        @media (min-width: 1018px) {\n          .calendar-main-content {\n            overflow-y: auto !important;\n          }\n        }\n      "})]})};export{g as default};
